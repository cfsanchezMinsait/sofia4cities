<!-- BEGIN HEADER -->
<div th:fragment="cabeceraFragment" id="cabeceraFragment">

	<!-- MAIN SCRIPTS  -->
	<script th:src="@{/static/vendor/jquery/jquery.min.js}"/>
	<!-- <script th:src="@{/static/js/jquery/js/jquery-ui-1.10.3.custom.min.js}"/> -->
	<script th:src="@{/static/vendor/bootstrap/bootstrap.js}"/>
	
	<!-- HEADER CONTROLLER JS -->
	<script th:src="@{/static/js/pages/header.js}"/>	
	 
	<!-- BEGIN DYNAMICAL STYLE CSC -->
	<!-- <input id="basededatosseleccionada" type="hidden" th:value="${@contexto.getPropiedad('bdtr.type')}"/> -->
		
	<!-- END DYNAMICAL STYLE CSC -->	
	
	<!-- BEGIN HEADER INNER -->
	<div class="page-header-inner ">
		<!-- BEGIN LOGO -->
		<div class="page-logo">
			<a th:href="@{/}">
				<img alt="logo" class="logo-default" th:src="@{/static/images/logo_sofia2_bk_sm.png}"/>
				<span class="text-logo">Sofia2 Control Panel</span>
			</a>
			<div class="menu-toggler sidebar-toggler">
				<span></span>
			</div>
		</div>
		<!-- END LOGO -->
		
		<!-- BEGIN SEARCH FORM -->
		<form sec:authorize="!hasRole('ROL_PARTNER')" class="search-form search-docs-form " action="javascript:HeaderController.search();" method="get" >
			<div class="input-group">
				<input class="form-control"  placeholder="Search" id="search-query" type="text"/>
				<span class="input-group-btn">
					<a href="javascript:;" class="btn submit">
						<i class="flaticon-search-1"></i>
					</a>
				</span>
			</div>
		</form>
		<!-- END SEARCH FORM -->
		
		<!-- BEGIN RESPONSIVE MENU TOGGLER -->
		<a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
			<span></span>
		</a>
		<!-- END RESPONSIVE MENU TOGGLER -->
		<!-- BEGIN TOP NAVIGATION MENU -->
		<div class="top-menu">
			<ul class="nav navbar-nav pull-right">
			
				<!-- BEGIN WIZARD -->						
				<li sec:authorize="!hasRole('ROL_PARTNER')" class="dropdown dropdown-wizard-toggler">
					<a th:href="@{/wizardMaster/principal}" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Asistente" style="padding-right:8px !important;">
						<i class="flaticon-light"></i> <span class="hidden-sm hidden-xs">Wizard</span>
					</a>
				</li>
				<!-- END WIZARD -->
				
				<!-- BEGIN {REST} -->						
				<li sec:authorize="!hasRole('ROL_PARTNER')" class="dropdown dropdown-rest-toggler">
					<a id="span_hipervinculos" th:href="@{/rest.jsp}" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="API {REST}" style="padding-right:8px !important;">
						<i class="icon-frame"></i> <span th:text="#{header_REST}" class="hidden-sm hidden-xs">REST</span>
					</a>
				</li>
				<!-- END {REST} -->
				
				<!-- BEGIN USUARIO NO-PARTNER -->						
				<li sec:authorize="!hasRole('ROL_PARTNER')" class="dropdown dropdown-user-toggler">
					<a th:href="@{'/usuarioses/show/' + ${#authentication.name}}" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Usuario" style="padding-right:8px !important;">
						<i class="flaticon-user"></i> <span class="user-rol" th:classappend="${#strings.toLowerCase(#strings.listJoin(#authentication.authorities,' '))}" th:text="${#authentication.name}">ss</span>
					</a>
				</li>
				<!-- END USUARIO NO-PARTNER -->
				
				<!-- BEGIN USUARIO PARTNER -->						
				<li  sec:authorize="hasRole('ROL_PARTNER')" class="dropdown dropdown-user-toggler">
					<a th:href="@{'/usuarioses/show/' + ${#authentication.name}}" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Usuario" style="padding-right:8px !important;">
						<i class="flaticon-user"></i> <span th:text="${#authentication.name}"></span> 
					</a>
				</li>
				<!-- END USUARIO PARTNER -->
				
				<!-- BEGIN IDIOMA -->
				<li class="dropdown dropdown-idioma">
					<a href="javascript:;" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Idioma" data-toggle="dropdown" data-hover="dropdown" data-close-others="true" style="padding-right:8px !important;">								
						<span th:text="#{header_idioma}" class="username username-hide-on-mobile"> Idioma </span>
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="dropdown-menu dropdown-menu-default">
						<li>
							<spring:message code="global_language_switch" arguments="English" var="lang_label" htmlEscape="false" />
							<img class="dropdown-flag hide" src="../images/flags/gb.png" title="English" alt="English" /> <a th:text="#{header_idioma_en}" href='?lang=en'><span>EN</span></a>
						</li>
						<li>
							<spring:message code="global_language_switch" arguments="Portuguese" var="lang_label" htmlEscape="false" />
							<img class="dropdown-flag hide" src="../images/flags/pt.png" title="Portuguese" alt="Portuguese" /> <a th:text="#{header_idioma_pt}" href='?lang=pt'><span>PT</span></a>
						</li>
						<li>
							<spring:message code="global_language_switch" arguments="Italian" var="lang_label" htmlEscape="false" />
							<img class="dropdown-flag hide " src="../images/flags/it.png" title="Italian" alt="Italian" /> <a th:text="#{header_idioma_it}" href='?lang=it'><span>IT</span></a>
						</li>
						<li>
							<spring:message code="global_language_switch" arguments="Espanol" var="lang_label" htmlEscape="false" />
							<img class="dropdown-flag hide" src="../images/flags/es.png" title="Espa&ntilde;ol" alt="Espa&ntilde;ol" /> <a th:text="#{header_idioma_es}" href='?lang=es'><span>ES</span></a>
						</li>								
						<li>
							<spring:message code="global_language_switch" arguments="Catalan" var="lang_label" htmlEscape="false" /> 
							<img class="dropdown-flag hide" src="../images/flags/catalonia.png" title="Catalan" alt="Catalan"/> <a th:text="#{header_idioma_ca}" href='?lang=ca'><span>CA</span></a>
						</li>								
					</ul>
				</li>
				<!-- END IDIOMA -->
				
				<!-- BEGIN COMUNICACIONES -->			
				<li sec:authorize="!hasRole('ROL_PARTNER')" class="dropdown dropdown-rest-toggler"  style="padding-right:8px !important;">
					<a id="messages-bell" th:href="@{/comunicaciones/comunicaciones}" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Comunicaciones" >
						<i class="flaticon-bell"></i>  <span class="hidden-sm hidden-xs">Comunicaciones</span>
					</a>
				</li>
				<!-- END COMUNICACIONES -->
				
				<!-- BEGIN LOG-OUT -->			
				<li sec:authorize="!hasRole('ROL_PARTNER')" class="dropdown dropdown-rest-toggler" style="padding-right:8px !important;">
					<a id="close-session" href="login.html" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Salir" th:href="@{/logout}">
						<i class="icon-share-alt"></i> <span class="hidden-sm hidden-xs">Salir</span>
					</a>
				</li>
				<!-- END LOG-OUT -->
				
				<!-- BEGIN QUICK SIDEBAR TOGGLER -->						
				<li class="dropdown dropdown-quick-sidebar-toggler">
					<a href="javascript:;" class="dropdown-toggle tooltips" data-container="body" data-placement="bottom" data-original-title="Administración">
						<i class="icon-logout"></i> <span class="hidden-sm hidden-xs" style="position: relative;top: -2px;">Admin.</span>
					</a>
				</li>
				<!-- END QUICK SIDEBAR TOGGLER -->						
			</ul>
		</div>
		<!-- END TOP NAVIGATION MENU -->
	</div>
	<!-- END HEADER INNER -->
	
	<!-- MODALS , DIALOGS AND ERROR LOGS -->
	<div id="dialog-confirm" title="Confirmación" th:title="#{dialogo_confirm_delete_title}" style="display: none;">
		<div th:text="#{dialogo_confirm_delete_text}">¿Desea continuar con la eliminación?</div>
	</div>
	
	<div id="dialog-confirm-ontologia" title="Confirmación" th:title="#{dialogo_confirm_delete_title}" style="display: none;">
		<div th:text="#{ontologias_listado_button_eliminacion_confirm}">¿Desea continuar? Una vez dada de baja, no se permitira crear otra ontologia con el mismo identificador</div>
	</div>
	
	<div id="dialog-confirm-usuario" title="Confirmación" th:title="#{dialogo_confirm_delete_title}" style="display: none;">
		<div th:text="#{usuarios_listado_button_eliminacion_confirm}">¿Desea continuar? Una vez dado de baja, no se permitira crear otro usuario con el mismo identificador</div>
	</div>   


	<!-- MODAL DE RESULTADOS SEARCH -->
	<div class="modal fade bs-example-modal-lg"  id="modalDocs" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
		<div class="modal-dialog modal-lg" role="document" style="width:90%">
			<div class="modal-content" >
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" th:text="#{search_results}">Search results</h4>
				</div>
				<div class="modal-body" id="modalDocs-content">
					<div style="height: 80%;overflow-y: auto;overflow-x: hidden">
					  <div class="row" style="width: 100%; margin: 0;">
						<div id="blog-content-title">
						  <h4><a href="http://about.sofia2.com">Blog</a></h4>
						</div>
						<!-- BLOGS RESULT -->
						<div id="blog-content" class="blog-content"></div>
					  </div>
					  <div class="row" style="width: 100%; margin: 0; border-top: 2px solid #e1e4e5;"></div>
					  <div class="row" style="width: 100%; margin: 0;">
						<div id="docs-content-title">
						  <h4><a href="http://sofia2.readthedocs.io">Docs</a></h4>
						</div>
						<div id="docs-content" class="docs-content"></div>
					  </div>
					</div>
				</div>
				<!-- DOCS RESULT -->
				<div class="modal-body" id="modalDocs-result-show" style="display:none">
					<div id="result-show-content" style="height: 80%;"></div>
				</div>
				
				<div class="modal-footer">
					<span class="pull-left" style="padding: 7px;" id="docs-count">23</span>
					<span class="pull-left" style="margin-left: 5px;padding: 7px;" th:text="#{search_results_founds}"> results founds</span>
					<button id="btn-search-back" th:text="#{search_button_back}" type="button" class="btn btn-default" style="display:none" onclick="javascript:hideDocPost()">Back</button>
					<button type="button" class="btn btn-default" data-dismiss="modal" th:text="#{search_button_close}">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!-- END MODALS , DIALOGS AND ERROR LOGS -->
	
	<!-- TO-DO: REVISAR ERROR LOG -->
	<div id="dialog-error" title="Error" th:title="#{dialogo_error_title}" style="display: none;">
		<div th:text="${Error}"></div>
	</div>
	
	<div id="dialog-errors" title="Errors" th:title="#{dialogo_error_title}" style="display: none;">
		<div th:text="${errors}"></div>
	</div>
	
	<div id="dialog-info" title="Info" th:title="#{dialogo_info_title}" style="display: none;">
		<div th:text="${info}"></div>
	</div>
	
	<!-- CONFIGURACION DE HEADER PARA EL CONTROLADOR -->
	<script type="text/javascript" th:inline="javascript"> 
		var errores = [[${errors}]];
		var informacion = [[${info}]];		
		var headerJson = { 
			"errores": errores,
			"informacion": informacion,
			"btnEliminar": [[#{dialogo_confirm_delete_button_eliminar}]],
			"btnCancelar": [[#{dialogo_confirm_delete_button_cancelar}]],
			"btnClose": [[#{dialogo_error_button_ok}]],
		};
		// CARGAMOS AL CONTROLADOR MENSAJES Y CONSTANTES DE SERVIDOR PARA USARLAS
		// el PROPIO HeaderController los carga haciendo un Load y un init 
	</script>
	
	
</div>
<!-- END HEADER -->

